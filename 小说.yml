app:
  description: ''
  icon: ğŸ“š
  icon_background: '#D5F5F6'
  mode: workflow
  name: å°è¯´
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/deepseek:0.0.5@fd6efd37c2a931911de8ab9ca3ba2da303bef146d45ee87ad896b04b36d09403
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: document-extractor
      id: 1741920888720-source-1741921548306-target
      source: '1741920888720'
      sourceHandle: source
      target: '1741921548306'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: document-extractor
      id: 1741920888720-source-1741930224299-target
      source: '1741920888720'
      sourceHandle: source
      target: '1741930224299'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: document-extractor
        targetType: llm
      id: 1741921548306-source-1741930904328-target
      source: '1741921548306'
      sourceHandle: source
      target: '1741930904328'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: document-extractor
        targetType: llm
      id: 1741930224299-source-1741930904328-target
      source: '1741930224299'
      sourceHandle: source
      target: '1741930904328'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1741930904328-source-1741932316701-target
      source: '1741930904328'
      sourceHandle: source
      target: '1741932316701'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1741932316701-source-1741934110469-target
      source: '1741932316701'
      sourceHandle: source
      target: '1741934110469'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: end
      id: 1741934110469-source-1741935033893-target
      source: '1741934110469'
      sourceHandle: source
      target: '1741935033893'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          label: å°è¯´äººç‰©å…³ç³»
          max_length: 48
          options: []
          required: true
          type: file
          variable: novel_character_relation
        - label: å°è¯´åç§°
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: novel_name
        - label: å°è¯´å¤§çº²
          max_length: 1000
          options: []
          required: true
          type: paragraph
          variable: novel_outline
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          label: å‰ç½®ç« èŠ‚å†…å®¹
          max_length: 5
          options: []
          required: true
          type: file-list
          variable: precondition_chapter_list
        - label: å½“å‰ç« èŠ‚åç§°
          max_length: 100
          options: []
          required: true
          type: text-input
          variable: current_chapter_name
        - label: å½“å‰ç« èŠ‚æ¦‚è¿°
          max_length: 300
          options: []
          required: true
          type: paragraph
          variable: current_chapter_overview
        - label: å°è¯´ç±»å‹
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: novel_type
      height: 246
      id: '1741920888720'
      position:
        x: -76.35534049480452
        y: 300.4671662001737
      positionAbsolute:
        x: -76.35534049480452
        y: 300.4671662001737
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: è¯»å–äººç‰©å…³ç³»
        is_array_file: false
        selected: false
        title: äººç‰©å…³ç³»è§£æ
        type: document-extractor
        variable_selector:
        - '1741920888720'
        - novel_character_relation
      height: 120
      id: '1741921548306'
      position:
        x: 375
        y: 255
      positionAbsolute:
        x: 375
        y: 255
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: è¯»å–å‰ç½®ç« èŠ‚å†…å®¹ï¼Œå¯ä»¥æ˜¯ä»»æ„ç« èŠ‚ï¼Œå»ºè®®ä¼ é€’å‰§æƒ…ç›¸å…³ç« èŠ‚å†…å®¹
        is_array_file: true
        selected: false
        title: å‰ç½®ç« èŠ‚å†…å®¹è§£æ
        type: document-extractor
        variable_selector:
        - '1741920888720'
        - precondition_chapter_list
      height: 136
      id: '1741930224299'
      position:
        x: 375
        y: 456
      positionAbsolute:
        x: 375
        y: 456
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: å°†äººç‰©å…³ç³»å’Œå‰ç½®ç« èŠ‚çš„å†…å®¹è½¬æ¢æˆå¤§è¯­è¨€æ¨¡å‹å¥½ç†è§£çš„æç¤ºè¯
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-chat
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: 5f6555d3-2dfc-450f-a89d-872e846caa30
          role: system
          text: "```xml\n<instruction>\n    <instructions>\n        è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å°†ç»™å®šçš„å°è¯´äººç‰©å…³ç³»å’Œå‰ç½®ç« èŠ‚å†…å®¹è½¬æ¢ä¸ºé€‚åˆå¤§è¯­è¨€æ¨¡å‹ç†è§£çš„æç¤ºè¯ï¼š\n\
            \        \n        1. **è§£æäººç‰©å…³ç³»**ï¼š\n            - æå–{{#1741921548306.text#}}ä¸­çš„è§’è‰²åç§°åŠå…¶ç›¸äº’å…³ç³»ï¼ˆå¦‚è¡€ç¼˜ã€æ•Œå¯¹ã€ç›Ÿå‹ç­‰ï¼‰ã€‚\n\
            \            - ç”¨ç®€æ´çš„çŸ­å¥æˆ–åˆ—è¡¨å½¢å¼æè¿°å…³ç³»ï¼Œä¾‹å¦‚â€œAæ˜¯Bçš„çˆ¶äº²ï¼Œä¸Cæœ‰æ•Œå¯¹çŸ›ç›¾â€ã€‚\n        \n       \
            \ 2. **å¤„ç†å‰ç½®ç« èŠ‚å†…å®¹**ï¼š\n            - ä»{{#1741930224299.text#}}ä¸­æå–å…³é”®äº‹ä»¶æˆ–èƒŒæ™¯è®¾å®šã€‚\n\
            \            - æŒ‰æ—¶é—´é¡ºåºæˆ–é€»è¾‘å…³è”æ€§æ€»ç»“ç« èŠ‚å†…å®¹ï¼Œä¾‹å¦‚â€œç¬¬ä¸€ç« æè¿°Aä¸Bçš„å†²çªï¼Œç¬¬äºŒç« æ­ç¤ºCçš„èº«ä»½ç§˜å¯†â€ã€‚\n      \
            \  \n        3. **æ•´åˆæç¤ºè¯**ï¼š\n            - å°†äººç‰©å…³ç³»ä¸ç« èŠ‚å†…å®¹ç»“åˆï¼Œç”¨è‡ªç„¶è¯­è¨€æè¿°ä¸Šä¸‹æ–‡ã€‚\n \
            \           - ç¡®ä¿è¾“å‡ºä¸åŒ…å«ä»»ä½•XML/HTMLæ ‡ç­¾ï¼Œä»…ç”¨çº¯æ–‡æœ¬åˆ†æ®µã€‚\n            - ç¤ºä¾‹æ ¼å¼ï¼š\n    \
            \            â€œå½“å‰æ•…äº‹èƒŒæ™¯æ¶‰åŠä»¥ä¸‹è§’è‰²å…³ç³»ï¼š[äººç‰©å…³ç³»æ€»ç»“]ã€‚æ­¤å‰çš„æƒ…èŠ‚åŒ…æ‹¬ï¼š[ç« èŠ‚å†…å®¹æ€»ç»“]ã€‚â€\n        \n \
            \       4. **æ ¼å¼è¦æ±‚**ï¼š\n            - è¯­è¨€ç®€æ´ï¼Œé€»è¾‘è¿è´¯ï¼Œé¿å…å†—ä½™æè¿°ã€‚\n            - è§’è‰²åç§°å’Œå…³é”®äº‹ä»¶éœ€æ˜¾å¼æ ‡æ³¨ã€‚\n\
            \    </instructions>\n<instruction>"
        selected: false
        title: æç¤ºè¯è½¬æ¢
        type: llm
        variables: []
        vision:
          enabled: false
      height: 134
      id: '1741930904328'
      position:
        x: 699
        y: 388
      positionAbsolute:
        x: 699
        y: 388
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: æ ¹æ®ç« èŠ‚åç§° æ¦‚è¿° åŠå‰é¢çš„äººç‰©å…³ç³»å’Œå‰ç½®ç« èŠ‚å†…å®¹è¿›è¡Œç”Ÿæˆå½“å‰ç« èŠ‚å†…å®¹
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-chat
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: d2649b4a-25bf-4277-855c-6281e7d96f10
          role: system
          text: "```xml\n<instruction>\n  <instructions>\n    1. å°è¯´åç§°â€œ{{#1741920888720.novel_name#}}â€ï¼Œå°†å…¶ä½œä¸ºæ•´ä½“åˆ›ä½œçš„æ ¸å¿ƒæ ‡è¯†ï¼Œç¡®ä¿åç»­å†…å®¹å§‹ç»ˆå›´ç»•è¯¥åç§°çš„é£æ ¼ä¸åŸºè°ƒå±•å¼€ã€‚\n\
            \    2. ä¾æ®æä¾›çš„å°è¯´å¤§çº²â€œ{{#1741920888720.novel_outline#}}â€ï¼Œåˆ†ææ•…äº‹çš„ä¸»çº¿è„‰ç»œä¸å…³é”®å†²çªï¼Œç¡®ä¿æœ¬ç« å†…å®¹ä¸æ•´ä½“æ¡†æ¶ç´§å¯†è¡”æ¥ã€‚\n\
            \    3. å°†æœ¬ç« åç§°â€œ{{#1741920888720.current_chapter_name#}}â€ä½œä¸ºåˆ›ä½œé”šç‚¹ï¼Œæå–å…¶éšå«çš„æƒ…ç»ªæˆ–äº‹ä»¶å…³é”®è¯ï¼Œå¹¶è´¯ç©¿å…¨æ–‡ã€‚\n\
            \    4. æ ¹æ®æœ¬ç« æ¦‚è¿°â€œ{{#1741920888720.current_chapter_overview#}}â€æ‰©å±•åœºæ™¯ç»†èŠ‚\n \
            \   5. æ•´åˆäººç‰©å…³ç³»æ—¶ï¼Œéœ€å‘ˆç°è‡³å°‘ä¸€ç»„å¤æ‚å…³ç³»ï¼ˆå¦‚çˆ±æ¨äº¤ç»‡ã€åˆ©ç›ŠåŒç›Ÿç­‰ï¼‰ï¼Œå¹¶è‡ªç„¶èå…¥å‰ç½®ç« èŠ‚çš„ä¼ç¬”å›æ”¶ï¼Œäººç‰©å…³ç³»å’Œå‰ç½®ç« èŠ‚å†…å®¹{{#1741930904328.text#}}ã€‚\n\
            \    6. æœ€ç»ˆç« èŠ‚å†…å®¹éœ€æ»¡è¶³ï¼š\n       - è¯­è¨€ç¬¦åˆå°è¯´ç±»å‹ç‰¹å¾ï¼Œç±»å‹â€œ{{#1741920888720.novel_type#}}â€\n\
            \       - æ®µè½é—´æœ‰è¿è´¯çš„æ—¶ç©ºé€»è¾‘\n       - å¯¹è¯ä¸å™è¿°æ¯”ä¾‹çº¦ä¸º3:7\n    è¾“å‡ºçº¯æ–‡å­—å†…å®¹ï¼Œç¦æ­¢ä½¿ç”¨ä»»ä½•XMLæˆ–Markdownæ ¼å¼æ ‡è®°ï¼Œéœ€ä»¥ä¸­æ–‡åˆ›ä½œã€‚\n\
            \  </instructions>\n<instruction>"
        - id: 7b63b1ca-c413-4515-a401-05acc58bdec9
          role: user
          text: è¯·ç”Ÿæˆä¸€ç« ä¸å°äº2000å­—çš„å°è¯´å†…å®¹ï¼Œå½“ç„¶å­—æ•°ä¸æ˜¯å¼ºåˆ¶çš„ï¼Œçœ‹ä½ å¯¹æœ¬ç« å†…å®¹çš„ç†è§£ã€‚
        selected: false
        title: ç”Ÿæˆç« èŠ‚å†…å®¹
        type: llm
        variables: []
        vision:
          enabled: false
      height: 134
      id: '1741932316701'
      position:
        x: 1028
        y: 388
      positionAbsolute:
        x: 1028
        y: 388
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-reasoner
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: cd821c2e-f0dc-4afb-b5e9-2d533a19abb8
          role: system
          text: "```xml\n<instruction>\n  <instructions>\n    1. å°è¯´åç§°â€œ{{#1741920888720.novel_name#}}â€ï¼Œå°†å…¶ä½œä¸ºæ•´ä½“åˆ›ä½œçš„æ ¸å¿ƒæ ‡è¯†ï¼Œç¡®ä¿åç»­å†…å®¹å§‹ç»ˆå›´ç»•è¯¥åç§°çš„é£æ ¼ä¸åŸºè°ƒå±•å¼€ã€‚\n\
            \    2. ä¾æ®æä¾›çš„å°è¯´å¤§çº²â€œ{{#1741920888720.novel_outline#}}â€ï¼Œåˆ†ææ•…äº‹çš„ä¸»çº¿è„‰ç»œä¸å…³é”®å†²çªï¼Œç¡®ä¿æœ¬ç« å†…å®¹ä¸æ•´ä½“æ¡†æ¶ç´§å¯†è¡”æ¥ã€‚\n\
            \    3. å°†æœ¬ç« åç§°â€œ{{#1741920888720.current_chapter_name#}}â€ä½œä¸ºåˆ›ä½œé”šç‚¹ï¼Œæå–å…¶éšå«çš„æƒ…ç»ªæˆ–äº‹ä»¶å…³é”®è¯ï¼Œå¹¶è´¯ç©¿å…¨æ–‡ã€‚\n\
            \    4. æ ¹æ®æœ¬ç« æ¦‚è¿°â€œ{{#1741920888720.current_chapter_overview#}}â€æ‰©å±•åœºæ™¯ç»†èŠ‚\n \
            \   5. æ•´åˆäººç‰©å…³ç³»æ—¶ï¼Œéœ€å‘ˆç°è‡³å°‘ä¸€ç»„å¤æ‚å…³ç³»ï¼ˆå¦‚çˆ±æ¨äº¤ç»‡ã€åˆ©ç›ŠåŒç›Ÿç­‰ï¼‰ï¼Œå¹¶è‡ªç„¶èå…¥å‰ç½®ç« èŠ‚çš„ä¼ç¬”å›æ”¶ï¼Œäººç‰©å…³ç³»å’Œå‰ç½®ç« èŠ‚å†…å®¹{{#1741930904328.text#}}ã€‚\n\
            \    6. æœ€ç»ˆç« èŠ‚å†…å®¹éœ€æ»¡è¶³ï¼š\n       - è¯­è¨€ç¬¦åˆå°è¯´ç±»å‹ç‰¹å¾ï¼Œç±»å‹â€œ{{#1741920888720.novel_type#}}â€\n\
            \       - æ®µè½é—´æœ‰è¿è´¯çš„æ—¶ç©ºé€»è¾‘\n       - å¯¹è¯ä¸å™è¿°æ¯”ä¾‹çº¦ä¸º3:7\n    è¾“å‡ºçº¯æ–‡å­—å†…å®¹ï¼Œç¦æ­¢ä½¿ç”¨ä»»ä½•XMLæˆ–Markdownæ ¼å¼æ ‡è®°ï¼Œéœ€ä»¥ä¸­æ–‡åˆ›ä½œã€‚\n\
            \  </instructions>\n<instruction>"
        - id: 1560f3cc-feb4-4a23-af0a-9631de1b590a
          role: user
          text: 'è¯·é˜…è¯»{{#1741932316701.text#}}æ­¤ç« å†…å®¹ï¼Œ

            1. å¹¶æ£€æŸ¥æ˜¯å¦ç¬¦åˆä¸Šé¢çš„è¦æ±‚ï¼Œå¦‚æœç¬¦åˆè¦æ±‚å°±ä¸å¯¹å†…å®¹è¿›è¡Œæ”¹åŠ¨ï¼Œç›´æ¥è¾“å…¥è®©ä½ é˜…è¯»çš„å†…å®¹ã€‚

            2. ä¸ç¬¦åˆè¦æ±‚å°±å¯¹å†…å®¹è¿›ä¸€æ­¥æ”¹åŠ¨ã€‚'
        selected: false
        title: å†…å®¹æ£€æŸ¥
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1741934110469'
      position:
        x: 1332
        y: 388
      positionAbsolute:
        x: 1332
        y: 388
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1741934110469'
          - text
          variable: text
        selected: false
        title: ç»“æŸ
        type: end
      height: 90
      id: '1741935033893'
      position:
        x: 1636
        y: 388
      positionAbsolute:
        x: 1636
        y: 388
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 24.328866076739928
      y: -1.092393922905444
      zoom: 0.6973718331752019
